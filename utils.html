<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: base-resolver/utils</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Module: base-resolver/utils</h1>
    
    



<section>
    
<header>
    <h2>
    base-resolver/utils
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
            <div class="description"><p>The base-resolver/utils module has utility functions for parsing expressions, normalizing dependencies
and validations</p></div>
        
        
        
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils.js.html">resolver/utils.js</a>, <a href="utils.js.html#line2">line 2</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

        
        
    
    </div>
    
    
    
    
    
    
        <h3 class="subsection-title">Requires</h3>
        
        <ul>
            <li>module:q</li>
        </ul>
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="clone"><span class="type-signature">&lt;static> </span>clone<span class="signature">(obj)</span><span class="type-signature"> &rarr; {*}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>This function clones and creates a new copy of the object.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>obj</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>any object</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils.js.html">resolver/utils.js</a>, <a href="utils.js.html#line227">line 227</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>cloned object</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">*</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getDependencies"><span class="type-signature">&lt;static> </span>getDependencies<span class="signature">(callback)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Extracts arguments from a function and makes a list of dependencies. The function parameter is transformed from
camel-case to <code>-</code> and <code>.</code> separated, and an expression is created which evaluates them in
sequence, cascading, till a match is found.<br/>
eg. <code>databaseMongoLocal</code> as a parameter dependency will try to resolve to
<code>databaseMongoLocal</code>. If there are no components with that name, <code>database-mongo-local</code> will
be tried. If <code>database-mongo-local</code> is also not resolved, <code>database.mongo.local</code> will be
tried. The first resolution will be taken as the value and if none of them resolves, the component will fail to
resolve.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">callback</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>the function to be inspected</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils.js.html">resolver/utils.js</a>, <a href="utils.js.html#line35">line 35</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>an array of dependency expressions in the same sequence as the parameters</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Array.&lt;string></span>


	</dd>
</dl>

        
    
    
        <h5>Examples</h5>
        
    <pre class="prettyprint"><code>utils.getDependencies(function (x, y, z) {
     ...
});
// this will return ['x', 'y', 'z']</code></pre>

    <pre class="prettyprint"><code>utils.getDependencies(function (dataStore, userProvider) {
     ...
});
// This should return
[
     'dataStore|data-store|data.store',
     'userProvider|user-provider|user.provider'
]</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="isInjectorArray"><span class="type-signature">&lt;static> </span>isInjectorArray<span class="signature">(obj)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>This function checks if an array is an injector array or not. An injector array is a valid form of zest component
representation which is an array with the last element of type function and other elements of type string.
The strings in the array is mapped to components and are injected as parameters to the function in the same
sequence.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>obj</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>any object</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils.js.html">resolver/utils.js</a>, <a href="utils.js.html#line210">line 210</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>true if the object is an injector array. false otherwise.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">boolean</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="resolveExpression"><span class="type-signature">&lt;static> </span>resolveExpression<span class="signature">(expression, resolverFunction)</span><span class="type-signature"> &rarr; {q}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Resolves any expression with modifiers. Modifiers are used to add logic to dependency injection. There are 3 kinds
of modifiers. They are listed in their order of execution priority below:<br/></p>
<p><ul><li><b># (parameter modifier)</b> will pass parameters to the component that can be used to construct the
options object.</li></p>
<p><li><b>| (OR modifier)</b> will inject the first resolvable component</li></p>
<p><li><b>? (optional modifier)</b> will silently pass undefined if resolution fails</li></ul>
If the expression is a primitive non string type, it will be returned as-is. All strings will be considered as
expressions and resolved. For objects or arrays, resolution will happen recursively.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>expression</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>the expression to evaluate</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>resolverFunction</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="utils.html#ResolverCallback">module:base-resolver/utils~ResolverCallback</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>the resolver function to be called.</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils.js.html">resolver/utils.js</a>, <a href="utils.js.html#line107">line 107</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>a promise that resolves to the evaluated value of the expression</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">q</span>


	</dd>
</dl>

        
    
    
        <h5>Examples</h5>
        
    <pre class="prettyprint"><code>utils.resolveExpression('a|b#c|d', function (expression, params, expressionWithParams) {
         ...
}
// the ResolverCallback will be called with these arguments
// first call
 a, [], a
// second call
 b, [c], b#c
// third call
 d, [], d
// if any of the calls return a non undefined value or do not throw an Error, the next call will not happen
// if none of the callbacks return a defined value, the promise returned will reject with error</code></pre>

    <pre class="prettyprint"><code>utils.resolveExpression('a|b#c/#c1#c2|d?', function (expression, params, expressionWithParams) {
         ...
}
// the ResolverCallback will be called with these arguments
// first call
 a, [], a
// second call
 b, [c#c1, c2], b#c/#c1#c2
// third call
 d, [], d
// #, |, ? and / can be escaped with a / as shown in the second call
// if any of the calls return a non undefined value or do not throw an Error, the next call will not happen
// if none of the callbacks return a defined value, the promise returned will still resolve with undefined
// because theoptional flag (?) is specified</code></pre>

    
</dd>

        </dl>
    
    
    
        <h3 class="subsection-title">Type Definitions</h3>
        
        <dl>
                
<dt>
    <h4 class="name" id="ResolverCallback"><span class="type-signature"></span>ResolverCallback<span class="signature">(expression, params, expressionWithParams)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>The ResolverCallback is used in <a href="utils.html#resolveExpression"> resolveExpression</a> function as
a parameter. This callback is called for every part of the expression to get its value. The values are then
consolidated and a result is obtained.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>expression</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>the actual expression on which the resolver is to be called</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>params</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>the list of parameters to be sent to the configurations object</p></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>expressionWithParams</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"><p>the original expression. This can be used for caching results.</p></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils.js.html">resolver/utils.js</a>, <a href="utils.js.html#line230">line 230</a>
    </li></ul></dd>
    
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="utils.html#resolveExpression">module:base-resolver/utils.resolveExpression</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

            </dl>
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-base-resolver.html">base-resolver</a></li><li><a href="configurations.html">base-resolver/configurations</a></li><li><a href="resolution-provider.html">base-resolver/resolution-provider</a></li><li><a href="unloader.html">base-resolver/unloader</a></li><li><a href="utils.html">base-resolver/utils</a></li></ul><h3>Namespaces</h3><ul><li><a href="configurations-ConfigurationManager.html">ConfigurationManager</a></li><li><a href="resolution-provider-ResolutionProvider.html">ResolutionProvider</a></li><li><a href="unloader-Unloader.html">Unloader</a></li><li><a href="module-base-resolver-Resolver.html">Resolver</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Sun Sep 21 2014 08:57:57 GMT-0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>